swagger: '2.0'
info:
  title: Corporations
  version: 1.0.0

host: localhost

x-tipo-validation: &tipo_validation
  pattern: '\\bSTART|Financeiro|Agro|Tecnologia|END\\b'
  x-pattern-message: "Tipo não permitido"

x-number-validation: &number_validation
  pattern: '^\\d{18}(\\.\\d{2})'
  x-pattern-message: "Valor não permitido"

tags:
  - name: Corporation Endpoints
    description: "Detalhes de Corporation"
    externalDocs:
      url: http://external-corp
  - name: Pessoa Endpoints
    description: "Detalhes de Pessoa"
    externalDocs:
      url: http://external-pessoa

paths:
  /corporation:
    post:
      tags:
        - Corporation Endpoints
      summary: Cria um novo Corporation.
      description: Cria um novo corporation com os dados fornecidos.
      operationId: insertCorporation
      parameters:
        - name: corporation
          in: body
          description: Dados do corporation a ser criado.
          required: true
          schema:
            $ref: '#/definitions/CorporationInput'
      responses:
        '201':
          description: Created
          schema:
            $ref: '#/definitions/Corporation'

  /corporation/getAll:
    get:
      tags:
        - Corporation Endpoints
      summary: Obtém uma lista paginada de corporations.
      description: Retorna uma lista paginada de corporations.
      operationId: getAllCorporations
      parameters:
        - name: page
          in: query
          description: O número da página a ser retornada.
          required: false
          type: integer
          format: int32
          minimum: 0
          default: 0
        - name: size
          in: query
          description: O tamanho da página a ser retornada.
          required: false
          type: integer
          format: int32
          minimum: 1
          maximum: 100
          default: 20
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/PaginacaoDeCorporation'

  /pessoa/getAll:
    get:
      tags:
        - Pessoa Endpoints
      summary: Obtém uma lista de pessoas.
      description: Retorna uma lista de pessoas.
      operationId: getAllPessoas
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/PaginacaoPessoa'
  /pessoaFisica/getAll:
    get:
      summary: Obtém uma lista de pessoas fisicas.
      description: Retorna uma lista de pessoas fisicas.
      operationId: getAllPessoasFisicas
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/PaginacaoPessoaFisica'
  /pessoaJuridica/getAll:
    get:
      summary: Obtém uma lista de pessoas juridicas.
      description: Retorna uma lista de pessoas juridicas.
      operationId: getAllPessoasJuridicas
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/PaginacaoPessoaJuridica'

definitions:
  TipoEnum:
    type: string
    description: 'teste'
    enum:
      - Financeiro
      - Agro
      - Tecnologia
  Corporation:
    type: object
    properties:
      id:
        type: integer
        format: int64
      nome:
        type: string
      tipo:
        type: string
        $ref: '#/definitions/TipoEnum'
      valor:
        type: number
  CorporationInput:
    type: object
    properties:
      nome:
        type: string
      tipo:
        type: string
        <<: *tipo_validation
        example: "Financeiro"
        description: "Tipo"
      valor:
        type: number
        minimum: 000000000000000000.01
        maximum: 999999999999999999.99
  PaginacaoDeCorporation:
    type: object
    properties:
      corporations:
        type: array
        items:
          $ref: '#/definitions/Corporation'
      paginaAtual:
        type: integer
        format: int32
      totalDePaginas:
        type: integer
        format: int32
  Pessoa:
    type: object
    properties:
      id:
        type: integer
        format: int64
      nome:
        type: string
  PessoaFisica:
    type: object
    properties:
      pessoa:
        type: object
        $ref: '#/definitions/Pessoa'
      cpf:
        type: string
  PessoaJuridica:
    type: object
    properties:
      pessoa:
        type: object
        $ref: '#/definitions/Pessoa'
      cnpj:
        type: string
  PaginacaoPessoa:
    type: object
    properties:
      pessoas:
        type: array
        items:
          $ref: '#/definitions/Pessoa'
  PaginacaoPessoaFisica:
    type: object
    properties:
      pessoasFisicas:
        type: array
        items:
          $ref: '#/definitions/PessoaFisica'
  PaginacaoPessoaJuridica:
    type: object
    properties:
      pessoasJuridicas:
        type: array
        items:
          $ref: '#/definitions/PessoaJuridica'